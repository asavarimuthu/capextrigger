sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageToast","sap/ui/core/BusyIndicator"],function(e,t,o){"use strict";return e.extend("com.sap.capextriggerapp.controller.Main",{onInit:function(){},_fetchToken:function(){var e;jQuery.ajax({url:"/odata/v4/xsrf-token",method:"GET",async:false,headers:{"X-CSRF-Token":"Fetch"},success(t,o,r){e=r.getResponseHeader("X-CSRF-Token")}});return e},triggerWorkflow1:function(){var e="/odata/v4";const t=fetch(`${e}getCSRFToken()`,{method:"GET",headers:{"X-CSRF-Token":"fetch"}});const o=t.headers.get("X-CSRF-Token")},triggerWorkflow_temp:function(){$.ajaxSetup({headers:{"X-CSRF-Token":token}});var e={};jQuery.ajax({url:"/odata/v4/triggerWorkflow",method:"POST",contentType:"application/json",async:false,data:JSON.stringify(e),headers:{"X-CSRF-Token":token},beforeSend:function(e){}})},triggerWorkflow_tobecheckedlater:function(){var e={};var t=this;this.byId("triggertile").setState("Loading")},triggerWorkflow:function(){$.ajax({method:"POST",url:"/odata/v4/triggerWorkflow",contentType:"application/json",data:JSON.stringify({param:"value"}),success:function(e){console.log(e)},error:function(e,t,o){console.error(e.responseText)}})},triggerWorkflow_odata:function(){var e=this.getView().getModel("TriggerModel");e.callFunction("/triggerWorkflow",{method:"POST",urlParameters:{param:"value"},success:function(e){console.log(e)},error:function(e){console.error(e)}})},triggerWorkflow_canbeusedtemporarily:function(){this.byId("triggertile").setState("Loading");this.showBusyIndicator(4e3);this.byId("triggertile").setState("Loaded")},hideBusyIndicator:function(){o.hide();t.show("Triggered Successfully")},showBusyIndicator:function(e,t){o.show(t);if(e&&e>0){if(this._sTimeoutId){clearTimeout(this._sTimeoutId);this._sTimeoutId=null}this._sTimeoutId=setTimeout(function(){this.hideBusyIndicator()}.bind(this),e)}}})});